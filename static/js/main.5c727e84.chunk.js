(this["webpackJsonpham-system-app"]=this["webpackJsonpham-system-app"]||[]).push([[0],{427:function(e,t,n){},428:function(e,t,n){},661:function(e,t){},663:function(e,t){},674:function(e,t){},676:function(e,t){},703:function(e,t){},705:function(e,t){},706:function(e,t){},711:function(e,t){},713:function(e,t){},732:function(e,t){},744:function(e,t){},747:function(e,t){},789:function(e,t,n){},795:function(e,t,n){},796:function(e,t,n){},797:function(e,t,n){},798:function(e,t,n){},800:function(e,t,n){},801:function(e,t,n){},896:function(e,t,n){},897:function(e,t,n){},898:function(e,t,n){},899:function(e,t,n){},900:function(e,t,n){},902:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(0),s=n.n(c),r=n(74),i=n.n(r),l=(n(427),n(137)),o=n(13),j=n.n(o),u=n(27),d=n(6),b=(n(428),n(420)),h=n(15),O=n(9),m=n.n(O),x=n(91),p=n(127),g=function(){function e(t){Object(x.a)(this,e),this.id=t.id,this.fname=t.get("fname"),this.lname=t.get("lname"),this.email=t.get("fetchEmail"),this.building=t.get("building"),this.apartment=t.get("apartment"),this.isCommitteeMember=t.get("isCommitteeMember"),this.img=t.get("img")?t.get("img").url():null,this.community=t.get("community"),this.deleted=t.get("deleted"),this.parseUser=t}return Object(p.a)(e,[{key:"getFullName",value:function(){return this.fname+" "+this.lname}}]),e}(),f=n(922),v=n(907),y=n(418);n(789);function C(e){var t=e.onLogIn,n=Object(c.useState)(""),s=Object(d.a)(n,2),r=s[0],i=s[1],l=Object(c.useState)(""),o=Object(d.a)(l,2),b=o[0],O=o[1],x=Object(c.useState)(""),p=Object(d.a)(x,2),C=p[0],w=p[1],S=Object(c.useState)(!1),N=Object(d.a)(S,2),L=N[0],k=N[1],I=Object(c.useState)("alert-not-show"),U=Object(d.a)(I,2),M=U[0],D=U[1];function T(){return(T=Object(u.a)(j.a.mark((function e(){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D("alert-not-show"),e.prev=1,e.next=4,m.a.User.logIn(b,C);case 4:n=e.sent,console.log("Logged in user",n),a=new g(n),t(a),k(!0),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),D("alert-show"),console.error("Error while logging in user",e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}return L?Object(a.jsx)(h.a,{to:"/dashboards"}):Object(a.jsx)("div",{className:"p-login",children:Object(a.jsxs)(f.a,{children:[Object(a.jsxs)(v.a,{className:M,variant:"danger",children:["Wrong Email or password...",Object(a.jsx)("br",{}),"pleace try again"]}),Object(a.jsx)("h2",{children:"Log-In to HAM"}),Object(a.jsxs)(f.a.Group,{controlId:"formBasicEmail",children:[Object(a.jsx)(f.a.Label,{children:"Email address"}),Object(a.jsx)(f.a.Control,{value:b,type:"email",placeholder:"Enter your email",onChange:function(e){return O(e.target.value)}}),Object(a.jsx)(f.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(a.jsxs)(f.a.Group,{controlId:"formBasicUserName",children:[Object(a.jsx)(f.a.Label,{children:"User name"}),Object(a.jsx)(f.a.Control,{value:r,type:"text",placeholder:"Enter your username",onChange:function(e){return i(e.target.value)}})]}),Object(a.jsxs)(f.a.Group,{controlId:"formBasicPassword",children:[Object(a.jsx)(f.a.Label,{children:"Password"}),Object(a.jsx)(f.a.Control,{value:C,type:"password",placeholder:"Password",onChange:function(e){return w(e.target.value)}})]}),Object(a.jsx)(y.a,{variant:"primary",type:"button",onClick:function(){return T.apply(this,arguments)},children:"Submit"})]})})}var w=n(908),S=n(909);n(795);function N(e){var t=e.onSignUp,n=Object(c.useState)(""),s=Object(d.a)(n,2),r=s[0],i=s[1],l=Object(c.useState)(""),o=Object(d.a)(l,2),b=o[0],O=o[1],x=Object(c.useState)(""),p=Object(d.a)(x,2),g=p[0],v=p[1],C=Object(c.useState)(null),N=Object(d.a)(C,2),L=N[0],k=N[1],I=Object(c.useState)(""),U=Object(d.a)(I,2),M=U[0],D=U[1],T=Object(c.useState)(""),B=Object(d.a)(T,2),E=B[0],H=B[1],V=Object(c.useState)(""),F=Object(d.a)(V,2),G=F[0],z=F[1],A=Object(c.useState)(""),R=Object(d.a)(A,2),P=R[0],Q=R[1],q=Object(c.useState)(""),K=Object(d.a)(q,2),W=K[0],J=K[1],Y=Object(c.useState)(""),Z=Object(d.a)(Y,2),_=Z[0],X=Z[1],$=Object(c.useState)(!1),ee=Object(d.a)($,2),te=ee[0],ne=ee[1];function ae(){return(ae=Object(u.a)(j.a.mark((function e(){var n,a,c,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=m.a.Object.extend("Community"),(a=new n).set("address",{city:G,street:P}),e.next=6,a.save();case 6:c=e.sent,(s=new m.a.User).set("username",g),s.set("email",M),s.set("fname",r),s.set("lname",b),s.set("apartment",_),s.set("isCommitteeMember",!0),s.set("img",new m.a.File(L.name,L)),s.set("community",c),s.set("building",W),s.set("password",E),s.signUp().then((function(e){console.log("User signed up",e)})).catch((function(e){console.error("Error while signing up user",e)})),t(s),ne(!0),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(0),console.error("Error while creating Community: ",e.t0);case 26:case"end":return e.stop()}}),e,null,[[0,23]])})))).apply(this,arguments)}if(te)return Object(a.jsx)(h.a,{to:"/"});var ce=L?URL.createObjectURL(L):"";return Object(a.jsx)("div",{className:"p-signup",children:Object(a.jsxs)(f.a,{children:[Object(a.jsx)("h2",{children:"Create a Committee Member Account"}),Object(a.jsxs)(f.a.Group,{controlId:"formBasicUserFirstName",children:[Object(a.jsx)(f.a.Label,{children:"First name"}),Object(a.jsx)(f.a.Control,{value:r,type:"text",placeholder:"Enter your first name",onChange:function(e){return i(e.target.value)}})]}),Object(a.jsxs)(f.a.Group,{controlId:"formBasicUserLastName",children:[Object(a.jsx)(f.a.Label,{children:"Last name"}),Object(a.jsx)(f.a.Control,{value:b,type:"text",placeholder:"Enter your last name",onChange:function(e){return O(e.target.value)}})]}),Object(a.jsxs)(f.a.Group,{controlId:"formBasicUserLastName",children:[Object(a.jsx)(f.a.Label,{children:"User name"}),Object(a.jsx)(f.a.Control,{value:g,type:"text",placeholder:"Select your user name",onChange:function(e){return v(e.target.value)}})]}),Object(a.jsxs)(f.a.Group,{controlId:"formBasicEmail",children:[Object(a.jsx)(f.a.Label,{children:"Email address"}),Object(a.jsx)(f.a.Control,{value:M,type:"email",placeholder:"Enter your email",onChange:function(e){return D(e.target.value)}}),Object(a.jsx)(f.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(a.jsxs)(f.a.Group,{controlId:"formBasicPassword",children:[Object(a.jsx)(f.a.Label,{children:"Password"}),Object(a.jsx)(f.a.Control,{value:E,type:"password",placeholder:"Password",onChange:function(e){return H(e.target.value)}})]}),Object(a.jsxs)(f.a.Group,{controlId:"formBasicUserCity",children:[Object(a.jsx)(f.a.Label,{children:"City"}),Object(a.jsx)(f.a.Control,{value:G,type:"text",placeholder:"Enter city name",onChange:function(e){return z(e.target.value)}})]}),Object(a.jsxs)(f.a.Group,{controlId:"formBasicUserLastName",children:[Object(a.jsx)(f.a.Label,{children:"Street"}),Object(a.jsx)(f.a.Control,{value:P,type:"text",placeholder:"Enter street name",onChange:function(e){return Q(e.target.value)}})]}),Object(a.jsxs)(f.a.Group,{controlId:"formBasicUserLastName",children:[Object(a.jsx)(f.a.Label,{children:"Building"}),Object(a.jsx)(f.a.Control,{value:W,type:"text",placeholder:"Enter building number",onChange:function(e){return J(e.target.value)}})]}),Object(a.jsxs)(f.a.Group,{controlId:"formBasicUserLastName",children:[Object(a.jsx)(f.a.Label,{children:"Apartment"}),Object(a.jsx)(f.a.Control,{value:_,type:"text",placeholder:"Enter apartment number",onChange:function(e){return X(e.target.value)}})]}),Object(a.jsxs)(f.a.Group,{as:w.a,controlId:"formHorizontalImage",children:[Object(a.jsx)(f.a.Label,{children:"Img"}),Object(a.jsx)(f.a.Control,{type:"file",placeholder:"Select profile img",accept:"image/*",onChange:function(e){1===e.target.files.length?k(e.target.files[0]):k(null)}})]}),Object(a.jsx)(S.a,{src:ce,className:"img-preview"}),Object(a.jsx)(y.a,{variant:"primary",type:"button",onClick:function(){return ae.apply(this,arguments)},children:"Submit"})]})})}var L=n(910),k=n(923);n(796);function I(e){e.activeUser,e.onLogOut;return Object(a.jsx)("div",{className:"p-hp",children:Object(a.jsx)("div",{children:Object(a.jsxs)(L.a,{children:[Object(a.jsx)(w.a,{className:"justify-content-lg-center",children:Object(a.jsx)("h1",{children:"Homeowner Association Management System"})}),Object(a.jsx)(w.a,{children:Object(a.jsxs)(k.a,{children:[Object(a.jsxs)(k.a.Item,{children:[Object(a.jsx)("img",{className:"d-block img-set mx-auto",src:"https://www.gethow.org/wp-content/uploads/2019/08/property-manager.jpg",alt:"First slide"}),Object(a.jsxs)(k.a.Caption,{children:[Object(a.jsx)("h3",{children:"Manage your committee"}),Object(a.jsx)("p",{children:"With this app you will find it very easy to manage your committee"})]})]}),Object(a.jsxs)(k.a.Item,{children:[Object(a.jsx)("img",{className:"d-block img-set mx-auto",src:"https://images.idgesg.net/images/article/2018/01/group-of-people-applauding_agreement_community-100746938-large.jpg",alt:"Third slide"}),Object(a.jsxs)(k.a.Caption,{children:[Object(a.jsx)("h3",{children:"Improve your performance"}),Object(a.jsx)("p",{children:"This app will help you improve your performance"})]})]}),Object(a.jsxs)(k.a.Item,{children:[Object(a.jsx)("img",{className:"d-block img-set mx-auto",src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTqXbDmRJkcFQWqNf-cBaynQC-2sNF6mKcDag&usqp=CAU",alt:"Third slide"}),Object(a.jsxs)(k.a.Caption,{children:[Object(a.jsx)("h3",{children:"Happy tenants"}),Object(a.jsx)("p",{children:"Useing this app will lead to much happyer tenants"})]})]})]})})]})})})}var U=n(417),M=n(915),D=n(421),T=(n(797),n(927)),B=n(925),E=n(914),H=n(416),V=(n(798),function e(t){Object(x.a)(this,e),this.id=t.id,this.createdAt=t.get("createdAt"),this.description=t.get("description"),this.user=t.get("user"),this.parseComment=t}),F=n(911),G=n(912),z=n(913),A=n(921);var R=function(e){var t=e.show,n=e.handleClose,s=e.updateMessage,r=e.id,i=e.currentTitle,l=e.currentDetails,o=e.currentPriority,j=e.currentImg,u=Object(c.useState)(""),b=Object(d.a)(u,2),h=b[0],O=b[1],m=Object(c.useState)(""),x=Object(d.a)(m,2),p=x[0],g=x[1],v=Object(c.useState)(null),C=Object(d.a)(v,2),N=C[0],L=C[1],k=Object(c.useState)(null),I=Object(d.a)(k,2),M=I[0],D=I[1];function T(){O(""),g(""),L(null),D(null),n()}var B=M?URL.createObjectURL(M):"";return Object(a.jsxs)(A.a,{show:t,onHide:T,size:"xl",className:"c-new-message-modal",children:[Object(a.jsx)(A.a.Header,{closeButton:!0,children:Object(a.jsx)(A.a.Title,{children:"Update Message"})}),Object(a.jsxs)(A.a.Body,{children:[Object(a.jsxs)(f.a,{children:[Object(a.jsxs)(f.a.Group,{as:w.a,controlId:"formHorizontalName",children:[Object(a.jsx)(f.a.Label,{column:!0,sm:2,children:"Message Title"}),Object(a.jsx)(U.a,{sm:10,children:Object(a.jsx)(f.a.Control,{type:"text",placeholder:i,value:h,onChange:function(e){return O(e.target.value)}})})]}),Object(a.jsxs)(f.a.Group,{as:w.a,controlId:"formHorizontalDesc",children:[Object(a.jsx)(f.a.Label,{column:!0,sm:2,children:"Message Details"}),Object(a.jsx)(U.a,{sm:10,children:Object(a.jsx)(f.a.Control,{type:"text",placeholder:l,value:p,onChange:function(e){return g(e.target.value)}})})]}),Object(a.jsxs)(f.a.Group,{as:w.a,controlId:"formHorizontalDesc",children:[Object(a.jsx)(f.a.Label,{column:!0,sm:2,children:"Message Priority"}),Object(a.jsx)(U.a,{sm:10,children:Object(a.jsx)(f.a.Control,{type:"text",placeholder:o,value:N,onChange:function(e){return L(e.target.value)}})})]}),Object(a.jsxs)(f.a.Group,{as:w.a,controlId:"formHorizontalImage",children:[Object(a.jsx)(f.a.Label,{column:!0,sm:2,children:"Message Image"}),Object(a.jsx)(U.a,{sm:10,children:Object(a.jsx)(f.a.Control,{type:"file",accept:"image/*",onChange:function(e){1===e.target.files.length?D(e.target.files[0]):D(null)}})})]})]}),Object(a.jsx)(S.a,{src:B,className:"img-preview"})]}),Object(a.jsxs)(A.a.Footer,{children:[Object(a.jsx)(y.a,{variant:"secondary",onClick:T,children:"Cancel"}),Object(a.jsx)(y.a,{variant:"primary",onClick:function(){s(r,h||i,p||l,N||o,M||j),T()},children:"Update Message"})]})]})};var P=function(e){var t,n=e.messages,s=e.activeUser,r=e.users,i=e.deleteMessage,l=e.updateMessageFromModal,o=Object(c.useState)(null),b=Object(d.a)(o,2),O=b[0],x=b[1],p=Object(c.useState)([]),g=Object(d.a)(p,2),f=g[0],v=g[1],C=Object(c.useState)(!1),w=Object(d.a)(C,2),S=w[0],N=w[1],L=Object(c.useState)(""),k=Object(d.a)(L,2),I=k[0],U=k[1],M=Object(c.useState)(!0),D=Object(d.a)(M,2),A=D[0],P=D[1];if(Object(c.useEffect)((function(){function e(){return(e=Object(u.a)(j.a.mark((function e(t){var a,c,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=m.a.Object.extend("Comment"),(c=new m.a.Query(a)).equalTo("msg",n[O].parseMsg),e.next=5,c.find();case 5:s=e.sent,v(s.map((function(e){return new V(e)}))),P(!1),console.log("comments arr",f);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}null!==O&&function(t){e.apply(this,arguments)}()}),[O]),!s)return Object(a.jsx)(h.a,{to:"/"});function Q(){return(Q=Object(u.a)(j.a.mark((function e(t,n){var a,c,s,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=m.a.Object.extend("message"),c=new m.a.Query(a),e.next=4,c.get(n);case 4:return(s=e.sent).set("readBy",t),e.prev=6,e.next=9,s.save();case 9:r=e.sent,console.log("Updated message",r),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),console.error("Error while updating message",e.t0);case 16:case"end":return e.stop()}}),e,null,[[6,13]])})))).apply(this,arguments)}function q(e){P(!0),x(e),K(e)||(n[e].readBy.push(s.id),function(e,t){Q.apply(this,arguments)}(n[e].readBy,n[e].id))}function K(e){return!!n[e].readBy.includes(s.id)}function W(){return J.apply(this,arguments)}function J(){return(J=Object(u.a)(j.a.mark((function e(){var t,a,c,s,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=m.a.Object.extend("message"),a=new m.a.Query(t),c=m.a.Object.extend("Comment"),s=new c,e.next=6,a.get(n[O].id);case 6:r=e.sent,s.set("description",I),s.set("user",m.a.User.current()),s.set("msg",r),s.save().then((function(e){console.log("Comment created",e),v(f.concat(new V(e))),P(!1)}),(function(e){console.error("Error while creating Comment: ",e)})),U("");case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}r&&(t=f.map((function(e){var t=r.find((function(t){return t.id===e.user.id}));return Object(a.jsxs)("div",{className:"comments-data",children:[Object(a.jsxs)("div",{children:[t.img?Object(a.jsx)("img",{src:t.img}):Object(a.jsx)(F.a,{})," ",t.getFullName(),":"]}),Object(a.jsx)("div",{children:e.description})]},e.id)})));var Y=n.map((function(e,c){return Object(a.jsxs)(T.a,{children:[Object(a.jsx)(B.a.Toggle,{as:T.a.Header,eventKey:""+c,onClick:function(e){return q(c)},children:Object(a.jsxs)("div",{className:"header-acc",children:[Object(a.jsxs)("div",{children:[K(c)?null:Object(a.jsx)(G.a,{}),e.title]}),Object(a.jsx)("div",{children:e.getIcon()})]})}),Object(a.jsx)(B.a.Collapse,{eventKey:""+c,children:Object(a.jsx)(T.a.Body,{children:Object(a.jsxs)("div",{className:"msg-comments-view",children:[Object(a.jsxs)("div",{className:"msg-data",children:[e.img?Object(a.jsx)("img",{src:e.img}):Object(a.jsx)(z.a,{}),Object(a.jsxs)("p",{children:["Details: ",e.details]}),Object(a.jsxs)("p",{children:["Priority: ",e.priority]})]}),Object(a.jsxs)("div",{className:"comments",children:[Object(a.jsx)("p",{children:"Comments:"}),Object(a.jsx)("div",{children:A?"loading...":t}),Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"msg-btm",children:Object(a.jsxs)(E.a,{className:"mb-3",children:[Object(a.jsx)(H.a,{value:I,onChange:function(e){return U(e.target.value)},type:"text",placeholder:"Add comment"}),Object(a.jsx)(E.a.Append,{children:Object(a.jsx)(y.a,{onClick:W,variant:"outline-secondary",children:"Add"})})]})}),s.isCommitteeMember?Object(a.jsxs)("div",{className:"msg-btm",children:[Object(a.jsx)(y.a,{onClick:function(){return N(!0)},children:"Update"}),Object(a.jsx)(y.a,{onClick:function(t){return i(e.id)},children:"Delete"})]}):null]})]})]})})})]},n.indexOf(e))}));return Object(a.jsxs)("div",{className:"c-msg-view",children:[Object(a.jsx)(B.a,{defaultActiveKey:O,children:Y}),null!==O&&n&&O<n.length?Object(a.jsx)(R,{show:S,handleClose:function(){return N(!1)},updateMessage:l,id:n[O].id,currentTitle:n[O].title,currentDetails:n[O].details,currentPriority:n[O].priority,currentImg:n[O].img}):null]})};var Q=function(e){var t=e.show,n=e.handleClose,s=e.addMessage,r=Object(c.useState)(""),i=Object(d.a)(r,2),l=i[0],o=i[1],j=Object(c.useState)(""),u=Object(d.a)(j,2),b=u[0],h=u[1],O=Object(c.useState)("Info"),m=Object(d.a)(O,2),x=m[0],p=m[1],g=Object(c.useState)(""),v=Object(d.a)(g,2),C=v[0],N=v[1];function L(){o(""),h(""),p(null),N(null),n()}var k=C?URL.createObjectURL(C):"";return Object(a.jsxs)(A.a,{show:t,onHide:L,size:"xl",className:"c-new-message-modal",children:[Object(a.jsx)(A.a.Header,{closeButton:!0,children:Object(a.jsx)(A.a.Title,{children:"New Message"})}),Object(a.jsxs)(A.a.Body,{children:[Object(a.jsxs)(f.a,{children:[Object(a.jsxs)(f.a.Group,{as:w.a,controlId:"formHorizontalName",children:[Object(a.jsx)(f.a.Label,{column:!0,sm:2,children:"Message Title"}),Object(a.jsx)(U.a,{sm:10,children:Object(a.jsx)(f.a.Control,{type:"text",placeholder:"Message Title",value:l,onChange:function(e){return o(e.target.value)}})})]}),Object(a.jsxs)(f.a.Group,{as:w.a,controlId:"formHorizontalDesc",children:[Object(a.jsx)(f.a.Label,{column:!0,sm:2,children:"Message Details"}),Object(a.jsx)(U.a,{sm:10,children:Object(a.jsx)(f.a.Control,{type:"text",placeholder:"Message Details",value:b,onChange:function(e){return h(e.target.value)}})})]}),Object(a.jsxs)(f.a.Group,{as:w.a,controlId:"formHorizontalDesc",children:[Object(a.jsx)(f.a.Label,{column:!0,sm:2,children:"Priority"}),Object(a.jsx)(U.a,{sm:10,children:Object(a.jsx)(f.a.Control,{type:"text",placeholder:"Message Priority",value:x,onChange:function(e){return p(e.target.value)}})})]}),Object(a.jsxs)(f.a.Group,{as:w.a,controlId:"formHorizontalImage",children:[Object(a.jsx)(f.a.Label,{column:!0,sm:2,children:"Message Image"}),Object(a.jsx)(U.a,{sm:10,children:Object(a.jsx)(f.a.Control,{type:"file",accept:"image/*",onChange:function(e){1===e.target.files.length?N(e.target.files[0]):N(null)}})})]})]}),Object(a.jsx)(S.a,{src:k,className:"img-preview"})]}),Object(a.jsxs)(A.a.Footer,{children:[Object(a.jsx)(y.a,{variant:"secondary",onClick:L,children:"Cancel"}),Object(a.jsx)(y.a,{variant:"primary",onClick:function(){s(l,b,x,C),L()},children:"Create Message"})]})]})};var q=function(e){var t=e.activeUser,n=e.users,s=e.messages,r=e.addMessage,i=e.updateMessage,l=e.deleteMessage,o=(e.onLogOut,Object(c.useState)("")),j=Object(d.a)(o,2),u=j[0],b=j[1],O=Object(c.useState)(null),m=Object(d.a)(O,2),x=m[0],p=m[1],g=Object(c.useState)("createdAt"),v=Object(d.a)(g,2),C=v[0],S=v[1],N=Object(c.useState)(!1),k=Object(d.a)(N,2),I=k[0],T=k[1];if(!t)return Object(a.jsx)(h.a,{to:"/"});var B=s.filter((function(e){return(e.title.includes(u)||e.details.includes(u))&&(!x||e.priority===x)}));return B.sort((function(e,t){return e[C]>t[C]?1:e[C]<t[C]?-1:0})),Object(a.jsxs)("div",{className:"p-messages",children:[Object(a.jsx)("div",{className:"filters",children:Object(a.jsxs)(L.a,{children:[Object(a.jsxs)(w.a,{children:[Object(a.jsx)(U.a,{lg:5,md:12,sm:12,children:Object(a.jsx)(f.a,{children:Object(a.jsx)(f.a.Group,{controlId:"formBasicSearch",children:Object(a.jsx)(f.a.Control,{value:u,type:"text",placeholder:"Filter by text in Title and Details",onChange:function(e){return b(e.target.value)}})})})}),Object(a.jsx)(U.a,{lg:3,md:6,sm:12,children:Object(a.jsxs)(M.a,{className:"filter-btn",value:x,id:"dropdown-basic-button",title:"Filter by Priority: "+x,onSelect:function(e){return p(e)},children:[Object(a.jsx)(D.a.Item,{eventKey:"Info",href:"#",children:"Info"}),Object(a.jsx)(D.a.Item,{eventKey:"Important",href:"#",children:"Important"})]})}),Object(a.jsx)(U.a,{lg:4,md:6,sm:12,children:Object(a.jsx)(f.a,{children:Object(a.jsxs)(f.a.Group,{value:C,as:w.a,onChange:function(e){return S(e.target.value)},children:[Object(a.jsx)(f.a.Label,{column:!0,as:"legend",children:"Sort By:"}),Object(a.jsx)(f.a.Check,{value:"createdAt",type:"radio",label:"Date",name:"formHorizontalRadios",id:"formHorizontalRadios1",className:"sort-by"}),Object(a.jsx)(f.a.Check,{value:"priority",type:"radio",label:"Priority",name:"formHorizontalRadios",id:"formHorizontalRadios2",className:"sort-by"})]})})})]}),Object(a.jsx)(w.a,{children:t.isCommitteeMember?Object(a.jsx)(U.a,{className:"new-msg-btn",children:Object(a.jsx)(y.a,{variant:"link",onClick:function(){return T(!0)},children:"New Message"})}):null})]})}),Object(a.jsx)(L.a,{children:Object(a.jsx)(P,{messages:B,activeUser:t,users:n,deleteMessage:l,updateMessageFromModal:i})}),Object(a.jsx)(Q,{show:I,handleClose:function(){return T(!1)},addMessage:r})]})},K=n(916),W=n(917);n(800);var J=function(e){var t=e.show,n=e.handleClose,s=e.addVoting,r=Object(c.useState)(""),i=Object(d.a)(r,2),o=i[0],j=i[1],u=Object(c.useState)(""),b=Object(d.a)(u,2),h=b[0],O=b[1],m=Object(c.useState)(new Date),x=Object(d.a)(m,2),p=x[0],g=x[1],v=Object(c.useState)([]),C=Object(d.a)(v,2),S=C[0],N=C[1],L=Object(c.useState)(""),k=Object(d.a)(L,2),I=k[0],M=k[1];function D(){j(""),O(""),g(null),N([]),M(""),n()}return Object(a.jsxs)(A.a,{show:t,onHide:D,size:"xl",className:"c-new-voting-modal",children:[Object(a.jsx)(A.a.Header,{closeButton:!0,children:Object(a.jsx)(A.a.Title,{children:"New Voting"})}),Object(a.jsx)(A.a.Body,{children:Object(a.jsxs)(f.a,{children:[Object(a.jsxs)(f.a.Group,{as:w.a,controlId:"formHorizontalName",children:[Object(a.jsx)(f.a.Label,{column:!0,sm:2,children:"Title"}),Object(a.jsx)(U.a,{sm:10,children:Object(a.jsx)(f.a.Control,{type:"text",placeholder:"Voting Title",required:!0,value:o,onChange:function(e){return j(e.target.value)}})})]}),Object(a.jsxs)(f.a.Group,{as:w.a,controlId:"formHorizontalDesc",children:[Object(a.jsx)(f.a.Label,{column:!0,sm:2,children:"Details"}),Object(a.jsx)(U.a,{sm:10,children:Object(a.jsx)(f.a.Control,{type:"text",placeholder:"Voting Details",required:!0,value:h,onChange:function(e){return O(e.target.value)}})})]}),Object(a.jsxs)(f.a.Group,{as:w.a,controlId:"formHorizontalDesc",children:[Object(a.jsx)(f.a.Label,{column:!0,sm:2,children:"End Date"}),Object(a.jsx)(U.a,{sm:10,children:Object(a.jsx)(f.a.Control,{type:"date",placeholder:"Voting End Date",required:!0,value:p,onChange:function(e){return g(e.target.value)}})})]}),Object(a.jsx)(f.a.Label,{column:!0,sm:2,children:"Options"}),S.map((function(e,t){return Object(a.jsxs)(E.a,{className:"options-group",as:w.a,controlId:"inputHorizontalOption",children:[Object(a.jsx)(H.a,{className:"option",type:"text",placeholder:e,required:!0}),Object(a.jsx)(E.a.Append,{children:Object(a.jsx)(y.a,{variant:"outline-secondary",onClick:function(){return function(e){var t=Object(l.a)(S),n=t.indexOf(e);-1!==n&&(t.splice(n,1),N(t))}(e)},children:Object(a.jsx)(K.a,{})})})]},t)})),Object(a.jsxs)(E.a,{className:"sm-3",children:[Object(a.jsx)(E.a.Prepend,{children:Object(a.jsx)(y.a,{variant:"outline-secondary",onClick:function(){return N(S.concat(I))},children:Object(a.jsx)(W.a,{})})}),Object(a.jsx)(H.a,{value:I,"aria-describedby":"basic-addon1",placeholder:"Add option",onChange:function(e){return M(e.target.value)}})]})]})}),Object(a.jsxs)(A.a.Footer,{children:[Object(a.jsx)(y.a,{variant:"secondary",onClick:D,children:"Cancel"}),Object(a.jsx)(y.a,{variant:"primary",onClick:function(){s(o,h,p,S),D()},children:"Create Voting"})]})]})},Y=(n(801),n(167)),Z=n(419);var _=function(e){var t=e.voting,n=e.users,c=e.isResData,s=[],r=[];if(n&&(r=n.filter((function(e){return!1===e.isCommitteeMember&&!1===e.deleted}))),t&&c){for(var i=0;i<t.options.length;i++)s[i]=0;var l,o=Object(Y.a)(t.results);try{for(o.s();!(l=o.n()).done;){var j=l.value;s[t.options.indexOf(j.vote)]++}}catch(u){o.e(u)}finally{o.f()}}return t&&!c&&(s[0]=t.results.length,s[1]=r.length-t.results.length),Object(a.jsx)("div",{children:t&&(c&&t.results.length>0||!c)?Object(a.jsx)(Z.Pie,{data:function(){return{labels:c?t.options:["Voted","Not Voted"],datasets:[{label:"# of Recipes",data:s,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)"],borderWidth:1}]}}}):Object(a.jsx)("p",{children:"No Data"})})};var X=function(e){var t,n=e.show,s=e.handleClose,r=e.updateVoting,i=e.voting,l=Object(c.useState)(""),o=Object(d.a)(l,2),j=o[0],u=o[1];function b(){u(""),s()}return i&&(t=i.endDate),Object(a.jsxs)(A.a,{show:n,onHide:s,children:[Object(a.jsx)(A.a.Header,{closeButton:!0,children:Object(a.jsx)(A.a.Title,{children:"Change the end date"})}),Object(a.jsxs)(A.a.Body,{children:["Current End Date:",i?i.endDate.toLocaleDateString():null,Object(a.jsx)(f.a,{noValidate:!0,children:Object(a.jsxs)(f.a.Group,{as:w.a,controlId:"formHorizontalDesc",children:[Object(a.jsx)(f.a.Label,{column:!0,sm:6,children:"New End Date"}),Object(a.jsx)(U.a,{sm:6,children:Object(a.jsx)(f.a.Control,{required:!0,type:"date",placeholder:"New End Date",value:j,onChange:function(e){return u(e.target.value)}})})]})})]}),Object(a.jsxs)(A.a.Footer,{children:[Object(a.jsx)(y.a,{variant:"secondary",onClick:b,children:"Close"}),Object(a.jsx)(y.a,{variant:"primary",onClick:function(){r(j||t,i),b()},children:"Save Changes"})]})]})};var $=function(e){var t=e.isActive,n=e.votings,s=e.activeUser,r=e.updateVotingFromModal,i=e.updateSelectedVote,l=e.users,o=Object(c.useState)(null),j=Object(d.a)(o,2),u=j[0],b=j[1],h=Object(c.useState)(!1),O=Object(d.a)(h,2),m=O[0],x=O[1],p=Object(c.useState)(null),g=Object(d.a)(p,2),f=(g[0],g[1],Object(c.useState)(null)),v=Object(d.a)(f,2),C=v[0];v[1];var w=n.map((function(e,n){return Object(a.jsxs)(T.a,{children:[Object(a.jsx)(B.a.Toggle,{as:T.a.Header,eventKey:""+n,onClick:function(e){return b(n)},children:Object(a.jsxs)("div",{className:"header-acc",children:[Object(a.jsx)("div",{children:e.title}),t?null:Object(a.jsxs)("div",{children:["Result: ",e.getFinalResult()]})]})}),Object(a.jsx)(B.a.Collapse,{eventKey:""+n,children:Object(a.jsx)(T.a.Body,{children:Object(a.jsxs)("div",{className:"voting-comments-view",children:[Object(a.jsxs)("div",{children:[Object(a.jsxs)("p",{children:["Details: ",e.details]}),s.isCommitteeMember||!t?null:Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{children:"Your vote:"}),Object(a.jsx)(M.a,{id:"dropdown-variants-Info",variant:"info",title:"Your Vote",value:C,children:e.options.map((function(t){return Object(a.jsx)(D.a.Item,{value:t,onClick:function(){return function(e,t){i(e,t)}(t,e)},children:t})}))})]}),t&&s.isCommitteeMember?Object(a.jsxs)("div",{children:["Voting Precentage",Object(a.jsx)(_,{voting:e,users:l,isResData:!1,activeUser:s})]}):null,!t&&s.isCommitteeMember?Object(a.jsxs)("div",{className:"charts",children:[Object(a.jsxs)("div",{children:["Voting Precentage",Object(a.jsx)(_,{voting:e,users:l,isResData:!1,activeUser:s})]}),Object(a.jsxs)("div",{children:["Voting Results",Object(a.jsx)(_,{voting:e,users:l,isResData:!0,activeUser:s})]})]}):null,t||s.isCommitteeMember?null:Object(a.jsx)("div",{className:"charts",children:Object(a.jsxs)("div",{children:["Voting Results",Object(a.jsx)(_,{voting:e,users:l,isResData:!0,activeUser:s})]})})]}),Object(a.jsxs)("div",{className:"end-date-section",children:[Object(a.jsxs)("p",{children:["End Date: ",e.endDate.toLocaleDateString()]}),t&&s.isCommitteeMember?Object(a.jsx)("div",{className:"voting-btm",children:Object(a.jsx)(y.a,{onClick:function(){return x(!0)},children:"Update End Date"})}):null]})]})})})]},n)}));return Object(a.jsxs)("div",{className:"c-voting-view",children:[Object(a.jsx)(B.a,{defaultActiveKey:u,children:w}),Object(a.jsx)(X,{show:m,handleClose:function(){return x(!1)},updateVoting:function(e,t){x(!1),r(e,t)},voting:n[u]})]})};n(896);var ee=function(e){var t=e.activeUser,n=e.votings,s=e.addVoting,r=e.updateVoting,i=e.updateSelectedVote,l=(e.onLogOut,e.users),o=Object(c.useState)([]),j=Object(d.a)(o,2),u=j[0],b=j[1],O=Object(c.useState)([]),m=Object(d.a)(O,2),x=m[0],p=m[1],g=Object(c.useState)(""),v=Object(d.a)(g,2),C=v[0],S=v[1],N=Object(c.useState)(!1),k=Object(d.a)(N,2),I=k[0],M=k[1];if(Object(c.useEffect)((function(){if(!t)return Object(a.jsx)(h.a,{to:"/"});b(n.filter((function(e){return e.endDate>=new Date}))),p(n.filter((function(e){return e.endDate<new Date})))}),[n]),!t)return Object(a.jsx)(h.a,{to:"/"});var D=x.filter((function(e){return e.title.includes(C)||e.details.includes(C)})),T=t.isCommitteeMember?u:u.filter((function(e){return-1===e.results.map((function(e){return e.user})).indexOf(t.id)}));return Object(a.jsxs)("div",{className:"p-votings",children:[Object(a.jsx)("div",{children:Object(a.jsxs)(L.a,{className:"votings-cols",children:[Object(a.jsxs)(U.a,{children:[Object(a.jsx)(w.a,{children:Object(a.jsx)("h3",{children:"Active Votings"})}),Object(a.jsx)(w.a,{children:t.isCommitteeMember?Object(a.jsx)(U.a,{className:"new-voting-btn",children:Object(a.jsx)(y.a,{variant:"link",onClick:function(){return M(!0)},children:"New Voting"})}):null}),Object(a.jsx)(w.a,{className:"accor-size",sm:12,children:Object(a.jsx)($,{isActive:!0,votings:T,activeUser:t,updateVotingFromModal:r,updateSelectedVote:i,users:l})})]}),Object(a.jsxs)(U.a,{children:[Object(a.jsx)(w.a,{children:Object(a.jsx)("h3",{children:"Votings Results"})}),Object(a.jsx)(w.a,{children:Object(a.jsx)(U.a,{className:"search-size",children:Object(a.jsx)(f.a,{children:Object(a.jsx)(f.a.Group,{controlId:"formBasicSearch",children:Object(a.jsx)(f.a.Control,{value:C,type:"text",placeholder:"Filter by text in Title and Details",onChange:function(e){return S(e.target.value)}})})})})}),Object(a.jsx)(w.a,{className:"accor-size",sm:12,children:Object(a.jsx)($,{isActive:!1,votings:D,activeUser:t,updateVotingFromModal:r,updateSelectedVote:i,users:l})})]})]})}),Object(a.jsx)(L.a,{}),Object(a.jsx)(J,{show:I,handleClose:function(){return M(!1)},addVoting:s})]})};n(897);var te=function(e){var t=e.show,n=e.handleClose,s=e.addTenant,r=Object(c.useState)(""),i=Object(d.a)(r,2),l=i[0],o=i[1],j=Object(c.useState)(""),u=Object(d.a)(j,2),b=u[0],h=u[1],O=Object(c.useState)(""),m=Object(d.a)(O,2),x=m[0],p=m[1],g=Object(c.useState)(""),v=Object(d.a)(g,2),C=v[0],N=v[1],L=Object(c.useState)(""),k=Object(d.a)(L,2),I=k[0],M=k[1],D=Object(c.useState)(""),T=Object(d.a)(D,2),B=T[0],E=T[1];function H(){o(""),h(""),p(""),N(""),M(""),E(null),n()}var V=B?URL.createObjectURL(B):"";return Object(a.jsxs)(A.a,{show:t,onHide:H,size:"xl",className:"c-new-message-modal",children:[Object(a.jsx)(A.a.Header,{closeButton:!0,children:Object(a.jsx)(A.a.Title,{children:"New Tenant"})}),Object(a.jsxs)(A.a.Body,{children:[Object(a.jsxs)(f.a,{children:[Object(a.jsxs)(f.a.Group,{as:w.a,controlId:"formHorizontalName",children:[Object(a.jsx)(f.a.Label,{column:!0,sm:3,children:"First Name"}),Object(a.jsx)(U.a,{sm:9,children:Object(a.jsx)(f.a.Control,{type:"text",placeholder:"First Name",value:l,onChange:function(e){return o(e.target.value)}})})]}),Object(a.jsxs)(f.a.Group,{as:w.a,controlId:"formHorizontalDesc",children:[Object(a.jsx)(f.a.Label,{column:!0,sm:3,children:"Last Name"}),Object(a.jsx)(U.a,{sm:9,children:Object(a.jsx)(f.a.Control,{type:"text",placeholder:"Last Name",value:b,onChange:function(e){return h(e.target.value)}})})]}),Object(a.jsxs)(f.a.Group,{as:w.a,controlId:"formHorizontalDesc",children:[Object(a.jsx)(f.a.Label,{column:!0,sm:3,children:"Email"}),Object(a.jsx)(U.a,{sm:9,children:Object(a.jsx)(f.a.Control,{type:"email",placeholder:"Email Address",value:x,onChange:function(e){return p(e.target.value)}})})]}),Object(a.jsxs)(f.a.Group,{as:w.a,controlId:"formHorizontalDesc",children:[Object(a.jsx)(f.a.Label,{column:!0,sm:3,children:"Building"}),Object(a.jsx)(U.a,{sm:9,children:Object(a.jsx)(f.a.Control,{type:"text",placeholder:"Building",value:C,onChange:function(e){return N(e.target.value)}})})]}),Object(a.jsxs)(f.a.Group,{as:w.a,controlId:"formHorizontalDesc",children:[Object(a.jsx)(f.a.Label,{column:!0,sm:3,children:"Apartment"}),Object(a.jsx)(U.a,{sm:9,children:Object(a.jsx)(f.a.Control,{type:"text",placeholder:"Apartment",value:I,onChange:function(e){return M(e.target.value)}})})]}),Object(a.jsxs)(f.a.Group,{as:w.a,controlId:"formHorizontalImage",children:[Object(a.jsx)(f.a.Label,{column:!0,sm:3,children:"Image"}),Object(a.jsx)(U.a,{sm:9,children:Object(a.jsx)(f.a.Control,{type:"file",accept:"image/*",onChange:function(e){1===e.target.files.length?E(e.target.files[0]):E(null)}})})]})]}),Object(a.jsx)(S.a,{src:V,className:"img-preview"})]}),Object(a.jsxs)(A.a.Footer,{children:[Object(a.jsx)(y.a,{variant:"secondary",onClick:H,children:"Cancel"}),Object(a.jsx)(y.a,{variant:"primary",onClick:function(){s(l,b,x,C,I,B),H()},children:"Create Tenant"})]})]})};n(898);var ne=function(e){var t=e.show,n=e.user,s=e.handleClose,r=e.updateTenant,i=e.id,l=e.currentFname,o=e.currentLname,j=e.currentEmail,u=e.currentBuilding,b=e.currentApartment,h=e.currentImg,O=Object(c.useState)(""),m=Object(d.a)(O,2),x=m[0],p=m[1],g=Object(c.useState)(""),v=Object(d.a)(g,2),C=v[0],N=v[1],L=Object(c.useState)(""),k=Object(d.a)(L,2),I=k[0],M=k[1],D=Object(c.useState)(""),T=Object(d.a)(D,2),B=T[0],E=T[1],H=Object(c.useState)(""),V=Object(d.a)(H,2),F=V[0],G=V[1],z=Object(c.useState)(""),R=Object(d.a)(z,2),P=R[0],Q=R[1];function q(){p(""),N(""),M(""),E(""),G(""),Q(null),s()}var K=P?URL.createObjectURL(P):"";return Object(a.jsxs)(A.a,{show:t,onHide:q,size:"xl",className:"c-new-message-modal",children:[Object(a.jsx)(A.a.Header,{closeButton:!0,children:Object(a.jsx)(A.a.Title,{children:"Update Tenant's Info"})}),Object(a.jsxs)(A.a.Body,{children:[Object(a.jsxs)(f.a,{children:[Object(a.jsxs)(f.a.Group,{as:w.a,controlId:"formHorizontalName",children:[Object(a.jsx)(f.a.Label,{column:!0,sm:3,children:"First Name"}),Object(a.jsx)(U.a,{sm:9,children:Object(a.jsx)(f.a.Control,{type:"text",placeholder:l,value:x,onChange:function(e){return p(e.target.value)}})})]}),Object(a.jsxs)(f.a.Group,{as:w.a,controlId:"formHorizontalDesc",children:[Object(a.jsx)(f.a.Label,{column:!0,sm:3,children:"Last Name"}),Object(a.jsx)(U.a,{sm:9,children:Object(a.jsx)(f.a.Control,{type:"text",placeholder:o,value:C,onChange:function(e){return N(e.target.value)}})})]}),Object(a.jsxs)(f.a.Group,{as:w.a,controlId:"formHorizontalDesc",children:[Object(a.jsx)(f.a.Label,{column:!0,sm:3,children:"Email"}),Object(a.jsx)(U.a,{sm:9,children:Object(a.jsx)(f.a.Control,{type:"email",placeholder:j,value:I,onChange:function(e){return M(e.target.value)}})})]}),Object(a.jsxs)(f.a.Group,{as:w.a,controlId:"formHorizontalDesc",children:[Object(a.jsx)(f.a.Label,{column:!0,sm:3,children:"Building"}),Object(a.jsx)(U.a,{sm:9,children:Object(a.jsx)(f.a.Control,{type:"text",placeholder:u,value:B,onChange:function(e){return E(e.target.value)}})})]}),Object(a.jsxs)(f.a.Group,{as:w.a,controlId:"formHorizontalDesc",children:[Object(a.jsx)(f.a.Label,{column:!0,sm:3,children:"Apartment"}),Object(a.jsx)(U.a,{sm:9,children:Object(a.jsx)(f.a.Control,{type:"text",placeholder:b,value:F,onChange:function(e){return G(e.target.value)}})})]}),Object(a.jsxs)(f.a.Group,{as:w.a,controlId:"formHorizontalImage",children:[Object(a.jsx)(f.a.Label,{column:!0,sm:3,children:"Image"}),Object(a.jsx)(U.a,{sm:9,children:Object(a.jsx)(f.a.Control,{type:"file",accept:"image/*",onChange:function(e){1===e.target.files.length?Q(e.target.files[0]):Q(null)}})})]})]}),Object(a.jsx)(S.a,{src:K,className:"img-preview"})]}),Object(a.jsxs)(A.a.Footer,{children:[Object(a.jsx)(y.a,{variant:"secondary",onClick:q,children:"Cancel"}),Object(a.jsx)(y.a,{variant:"primary",onClick:function(){r(n,i,x||l,C||o,I||j,B||u,F||b,P||h),q()},children:"Update Tenant"})]})]})};var ae=function(e){var t=e.tenants,n=(e.activeUser,e.deleteTenant),s=e.updateTenantsInfoFromModal,r=Object(c.useState)(!1),i=Object(d.a)(r,2),l=i[0],o=i[1],j=Object(c.useState)(null),u=Object(d.a)(j,2),b=u[0],h=u[1];function O(){n(t[b].id),h(null)}var m=t.map((function(e,t){return Object(a.jsxs)(T.a,{children:[Object(a.jsx)(B.a.Toggle,{as:T.a.Header,eventKey:""+t,onClick:function(e){return h(t)},children:Object(a.jsxs)("div",{className:"header-acc",children:[e.fname," ",e.lname]})}),Object(a.jsx)(B.a.Collapse,{eventKey:""+t,children:Object(a.jsx)(T.a.Body,{children:Object(a.jsx)(L.a,{children:Object(a.jsxs)(w.a,{className:"tenant-body",children:[Object(a.jsx)(U.a,{lg:4,md:4,sm:12,children:Object(a.jsx)("img",{src:e.img})}),Object(a.jsxs)(U.a,{className:"tenant-info",lg:4,md:4,sm:12,children:[Object(a.jsxs)("p",{children:["Name: ",e.fname," ",e.lname]}),Object(a.jsxs)("p",{children:["Email: ",e.email]}),Object(a.jsxs)("p",{children:["Building: ",e.building]}),Object(a.jsxs)("p",{children:["Apt: ",e.apartment]})]}),Object(a.jsx)(U.a,{lg:3,md:3,sm:12,children:Object(a.jsxs)("div",{className:"edit-btm",children:[Object(a.jsx)(y.a,{onClick:function(){return o(!0)},children:"Update"}),Object(a.jsx)(y.a,{onClick:O,children:"Delete"})]})})]})})})})]},t)}));return Object(a.jsxs)("div",{className:"c-tenant-view",children:[Object(a.jsx)(B.a,{defaultActiveKey:b,children:m}),t&&null!==b?Object(a.jsx)(ne,{show:l,user:t[b],handleClose:function(){return o(!1)},updateTenant:s,id:t[b].id,currentFname:t[b].fname,currentLname:t[b].lname,currentEmail:t[b].email,currentBuilding:t[b].building,currentApartment:t[b].apartment,currentImg:t[b].img}):null]})};var ce=function(e){var t=e.activeUser,n=e.users,s=e.addTenant,r=e.updateTenantInfo,i=e.deleteTenant,l=(e.onLogOut,Object(c.useState)("")),o=Object(d.a)(l,2),j=o[0],u=o[1],b=Object(c.useState)(!1),O=Object(d.a)(b,2),m=O[0],x=O[1];if(!t)return Object(a.jsx)(h.a,{to:"/"});var p=n.filter((function(e){return!1===e.deleted&&!1===e.isCommitteeMember})).filter((function(e){return e.fname.includes(j)||e.lname.includes(j)}));return Object(a.jsxs)("div",{className:"p-tenants",children:[Object(a.jsx)("div",{className:"filters",children:Object(a.jsxs)(L.a,{children:[Object(a.jsx)(w.a,{children:Object(a.jsx)(U.a,{lg:12,children:Object(a.jsx)(f.a,{children:Object(a.jsx)(f.a.Group,{controlId:"formBasicSearch",children:Object(a.jsx)(f.a.Control,{value:j,type:"text",placeholder:"Filter by tenant's name",onChange:function(e){return u(e.target.value)}})})})})}),Object(a.jsx)(w.a,{children:Object(a.jsx)(U.a,{className:"new-msg-btn",children:Object(a.jsx)(y.a,{variant:"link",onClick:function(){return x(!0)},children:"New Tenant"})})})]})}),Object(a.jsx)(L.a,{children:Object(a.jsx)(ae,{tenants:p,activeUser:t,deleteTenant:i,updateTenantsInfoFromModal:r})}),Object(a.jsx)(te,{show:m,handleClose:function(){return x(!1)},addTenant:s})]})},se=(n(899),n(918));var re=function(e){var t=e.activeUser,n=e.messages,c=e.votings,s=(e.addVoting,e.updateVoting),r=e.updateSelectedVote,i=(e.onLogOut,e.users);if(!t)return Object(a.jsx)(h.a,{to:"/"});var l=n.filter((function(e){return-1===e.readBy.indexOf(t.id)})),o=t.isCommitteeMember?c.filter((function(e){return e.endDate>=new Date})):c.filter((function(e){return e.endDate>=new Date&&-1===e.results.map((function(e){return e.user})).indexOf(t.id)})),j=c.filter((function(e){return e.endDate<new Date}));return Object(a.jsx)("div",{className:"p-dashboards",children:Object(a.jsxs)(L.a,{children:[Object(a.jsxs)(w.a,{children:[Object(a.jsxs)(U.a,{md:6,sm:12,children:[Object(a.jsxs)("p",{children:["New Messages ",l.length]}),l.length>0?Object(a.jsx)(P,{messages:l,activeUser:t,deleteMessage:null,updateMessageFromModal:null}):Object(a.jsxs)("p",{children:["There are no new messages ",Object(a.jsx)(se.a,{})]})]}),Object(a.jsxs)(U.a,{md:6,sm:12,children:[Object(a.jsxs)("p",{children:["Pending Votings ",o.length]}),o.length>0?Object(a.jsx)($,{isActive:!0,votings:o,activeUser:t,updateVotingFromModal:s,updateSelectedVote:r,users:i}):Object(a.jsxs)("p",{children:["There are no pending votings ",Object(a.jsx)(se.a,{})]})]})]}),Object(a.jsxs)(w.a,{children:[Object(a.jsxs)(U.a,{md:6,sm:12,children:[Object(a.jsx)("p",{children:"Voting Results"}),j.length>0?Object(a.jsx)($,{isActive:!1,votings:j,activeUser:t,updateVotingFromModal:null,users:i}):Object(a.jsxs)("p",{children:["There are no votings results ",Object(a.jsx)(se.a,{})]})]}),Object(a.jsxs)(U.a,{md:6,sm:12,children:[Object(a.jsx)("p",{children:"New Issues"}),"There are no new issues ",Object(a.jsx)(se.a,{})]})]})]})})},ie=n(919),le=n(920),oe=function(){function e(t){Object(x.a)(this,e),this.id=t.id,this.createdAt=t.get("createdAt"),this.title=t.get("title"),this.details=t.get("details"),this.priority=t.get("priorityName"),this.img=t.get("img")?t.get("img").url():null,this.readBy=t.get("readBy"),this.parseMsg=t}return Object(p.a)(e,[{key:"getIcon",value:function(){return"Info"===this.priority?Object(a.jsx)(ie.a,{}):Object(a.jsx)(le.a,{})}}]),e}(),je=function(){function e(t){Object(x.a)(this,e),this.id=t.id,this.title=t.get("title"),this.details=t.get("details"),this.options=t.get("options"),this.results=t.get("results"),this.endDate=t.get("endDate"),this.community=t.get("community"),this.parseVotingObj=t}return Object(p.a)(e,[{key:"getFinalResult",value:function(){for(var e=[],t=0;t<this.options.length;t++)e[t]=0;var n,a=Object(Y.a)(this.results);try{for(a.s();!(n=a.n()).done;){var c=n.value;e[this.options.indexOf(c.vote)]++}}catch(s){a.e(s)}finally{a.f()}return this.options[e.indexOf(Math.max.apply(Math,e))]}},{key:"getOptionsItems",value:function(){var e,t=[],n=Object(Y.a)(this.options);try{for(n.s();!(e=n.n()).done;){var c=e.value;t.push(Object(a.jsx)(D.a.Item,{value:c,children:c}))}}catch(s){n.e(s)}finally{n.f()}return t}}]),e}(),ue=n(926),de=n(924);n(900);function be(e){var t,n=e.activeUser,c=e.onLogOut;return n&&(t="Hello "+n.fname),Object(a.jsx)("div",{className:"c-nav",children:Object(a.jsxs)(ue.a,{expand:"md",children:[Object(a.jsx)(ue.a.Brand,{href:"#/",children:"HAM System"}),Object(a.jsx)(ue.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(a.jsxs)(ue.a.Collapse,{id:"basic-navbar-nav",children:[Object(a.jsxs)(de.a,{activeKey:"#",className:"mr-auto",children:[n?Object(a.jsx)(de.a.Link,{href:"#/",children:"Home"}):null,n?Object(a.jsx)(de.a.Link,{href:"#/dashboards",children:"Dashboards"}):null,n&&n.isCommitteeMember?Object(a.jsx)(de.a.Link,{href:"#/tenants",children:"Tenants"}):null,n?Object(a.jsx)(de.a.Link,{href:"#/messages",children:"Messages"}):null,n?Object(a.jsx)(de.a.Link,{href:"#/votings",children:"Votings"}):null]}),Object(a.jsxs)(de.a,{className:"ml-auto",children:[n?null:Object(a.jsx)(de.a.Link,{href:"#/login",children:"LogIn"}),n?null:Object(a.jsx)(de.a.Link,{href:"#/signup",children:"SignUp"}),n?Object(a.jsx)(de.a.Link,{children:t}):null,n?Object(a.jsx)(de.a.Link,{href:"#",onClick:function(){return c()},children:"LogOut"}):null]})]})]})})}var he=function(){var e=Object(c.useState)(m.a.User.current()?new g(m.a.User.current()):null),t=Object(d.a)(e,2),n=t[0],s=t[1],r=Object(c.useState)(!1),i=Object(d.a)(r,2),o=(i[0],i[1]),O=Object(c.useState)([]),x=Object(d.a)(O,2),p=x[0],f=x[1],v=Object(c.useState)([]),y=Object(d.a)(v,2),w=y[0],S=y[1],L=Object(c.useState)([]),k=Object(d.a)(L,2),U=k[0],M=k[1];function D(e){s(null),m.a.User.logOut(),o(!0)}function T(){return(T=Object(u.a)(j.a.mark((function e(t,a,c,s){var r,i,l;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=m.a.Object.extend("message"),(i=new r).set("title",t),i.set("details",a),i.set("priorityName",c),i.set("img",new m.a.File(s.name,s)),i.set("createdBy",m.a.User.current()),i.set("readBy",[n.id]),i.set("community",n.community),e.prev=9,e.next=12,i.save();case 12:l=e.sent,console.log("Success! add message: ",l),S(w.concat(new oe(l))),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(9),console.log("Error! add message",e.t0);case 20:case"end":return e.stop()}}),e,null,[[9,17]])})))).apply(this,arguments)}function B(){return(B=Object(u.a)(j.a.mark((function e(t,n,a,c,s){var r,i,l,o,u;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=m.a.Object.extend("message"),i=new m.a.Query(r),e.next=4,i.get(t);case 4:return(l=e.sent).set("title",n),l.set("details",a),l.set("priorityName",c),l.set("img",new m.a.File(s.name,s)),e.prev=9,e.next=12,l.save();case 12:o=e.sent,console.log("Success! updated message",o),u=w.filter((function(e){return e.id!==t})),S(u.concat(new oe(o))),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(9),console.log("Error! update message",e.t0);case 21:case"end":return e.stop()}}),e,null,[[9,18]])})))).apply(this,arguments)}function E(){return(E=Object(u.a)(j.a.mark((function e(t){var n,a,c,s,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=m.a.Object.extend("message"),a=new m.a.Query(n),e.next=4,a.get(t);case 4:return c=e.sent,e.prev=5,e.next=8,c.destroy();case 8:s=e.sent,console.log("Success! deleted message",s),r=w.filter((function(e){return e.id!==t})),S(r),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(5),console.log("Error! delete message",e.t0);case 17:case"end":return e.stop()}}),e,null,[[5,14]])})))).apply(this,arguments)}function H(e,t,n,a){return V.apply(this,arguments)}function V(){return(V=Object(u.a)(j.a.mark((function e(t,a,c,s){var r,i,l;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=m.a.Object.extend("Voting"),(i=new r).set("title",t),i.set("details",a),i.set("options",s),i.set("endDate",new Date(c)),i.set("community",n.parseUser.get("community")),i.set("results",[]),e.prev=8,e.next=11,i.save();case 11:l=e.sent,console.log("Success! add voting",l),M(U.concat(new je(l))),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(8),console.log("Error! add voting",e.t0);case 19:case"end":return e.stop()}}),e,null,[[8,16]])})))).apply(this,arguments)}function F(e,t){return G.apply(this,arguments)}function G(){return(G=Object(u.a)(j.a.mark((function e(t,n){var a,c,s,r,i,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=m.a.Object.extend("Voting"),c=new m.a.Query(a),e.next=4,c.get(n.id);case 4:return(s=e.sent).set("endDate",new Date(t)),e.prev=6,e.next=9,s.save();case 9:r=e.sent,console.log("Success! updated voting end date",r),i=Object(l.a)(U),o=U.indexOf(n),i[o]=new je(r),M(i),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(6),console.log("Error! update voting end date",e.t0);case 20:case"end":return e.stop()}}),e,null,[[6,17]])})))).apply(this,arguments)}function z(e,t){return A.apply(this,arguments)}function A(){return(A=Object(u.a)(j.a.mark((function e(t,a){var c,s,r,i,o,u,d;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=m.a.Object.extend("Voting"),s=new m.a.Query(c),e.next=4,s.get(a.id);case 4:return r=e.sent,i=a.results.concat({user:n.id,vote:t}),r.set("results",i),e.prev=7,e.next=10,r.save();case 10:o=e.sent,console.log("Success! updated voting results",o),u=Object(l.a)(U),d=U.indexOf(a),u[d]=new je(o),M(u),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(7),console.log("Error! update voting results",e.t0);case 21:case"end":return e.stop()}}),e,null,[[7,18]])})))).apply(this,arguments)}function R(){return(R=Object(u.a)(j.a.mark((function e(t,a,c,s,r,i){var l,o,u,d;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=m.a.Object.extend("User"),o=new l,(u=new m.a.ACL).setPublicWriteAccess(!0),u.setPublicReadAccess(!0),o.setACL(u),o.set("fname",t),o.set("lname",a),o.set("username",t+a),o.set("email",c),o.set("fetchEmail",c),o.set("password","123"),o.set("building",s),o.set("apartment",r),o.set("img",new m.a.File(i.name,i)),o.set("community",n.parseUser.get("community")),o.set("isCommitteeMember",!1),e.prev=17,e.next=20,o.save();case 20:d=e.sent,f(p.concat(new g(d))),console.log("Success! adding user(tenant)",d),e.next=28;break;case 25:e.prev=25,e.t0=e.catch(17),console.log("Error! adding user(tenant)",e.t0);case 28:case"end":return e.stop()}}),e,null,[[17,25]])})))).apply(this,arguments)}function P(){return(P=Object(u.a)(j.a.mark((function e(t,n,a,c,s,r,i,o){var u,d,b,h,O,x;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=new m.a.User,d=new m.a.Query(u),e.next=4,d.get(n);case 4:return(b=e.sent).set("fname",a),b.set("lname",c),b.set("email",s),b.set("fetchEmail",s),b.set("building",r),b.set("apartment",i),b.set("img",new m.a.File(o.name,o)),e.prev=12,e.next=15,b.save();case 15:h=e.sent,console.log("Success! updating user(tenant)",h),O=Object(l.a)(p),x=p.indexOf(t),O[x]=new g(h),f(O),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(12),console.error("Error! updating user(tenant)",e.t0);case 26:case"end":return e.stop()}}),e,null,[[12,23]])})))).apply(this,arguments)}function Q(){return(Q=Object(u.a)(j.a.mark((function e(t){var n,a,c,s,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new m.a.User,a=new m.a.Query(n),e.next=4,a.get(t);case 4:return(c=e.sent).set("deleted",!0),e.prev=6,e.next=9,c.save();case 9:s=e.sent,console.log("Success! delete user(tenant)",s),r=p.filter((function(e){return e.id!==t})),f(r),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(6),console.error("Error! delete user(tenant)",e.t0);case 18:case"end":return e.stop()}}),e,null,[[6,15]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){function e(){return(e=Object(u.a)(j.a.mark((function e(){var t,a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=m.a.Object.extend("User"),a=new m.a.Query(t),new m.a.Object.extend("Community").id=n.community,a.equalTo("community",n.community),e.prev=5,e.next=8,a.find();case 8:c=e.sent,f(c.map((function(e){return new g(e)}))),console.log("Success! users arr",c.map((function(e){return new g(e)}))),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),console.log("Error! users arr",e.t0);case 16:case"end":return e.stop()}}),e,null,[[5,13]])})))).apply(this,arguments)}function t(){return(t=Object(u.a)(j.a.mark((function e(){var t,a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=m.a.Object.extend("message"),(a=new m.a.Query(t)).equalTo("community",n.community),e.prev=3,e.next=6,a.find();case 6:c=e.sent,S(c.map((function(e){return new oe(e)}))),console.log("Success! messages arr: ",c),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.log("Error! messages arr",e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})))).apply(this,arguments)}function a(){return(a=Object(u.a)(j.a.mark((function e(){var t,a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=m.a.Object.extend("Voting"),(a=new m.a.Query(t)).equalTo("community",n.community),e.prev=3,e.next=6,a.find();case 6:c=e.sent,M(c.map((function(e){return new je(e)}))),console.log("Success! votings arr",U),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.log("Error! votings arr",e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})))).apply(this,arguments)}n&&(function(){e.apply(this,arguments)}(),function(){t.apply(this,arguments)}(),function(){a.apply(this,arguments)}())}),[n]),Object(a.jsx)("div",{className:"App",children:Object(a.jsxs)(b.a,{children:[Object(a.jsx)(be,{activeUser:n,onLogOut:D}),Object(a.jsxs)(h.d,{children:[Object(a.jsx)(h.b,{exact:!0,path:"/",children:Object(a.jsx)(I,{activeUser:n,onLogOut:D})}),Object(a.jsx)(h.b,{exact:!0,path:"/dashboards",children:Object(a.jsx)(re,{activeUser:n,messages:w,votings:U,addVoting:H,updateVoting:F,updateSelectedVote:z,onLogOut:D,users:p})}),n&&n.isCommitteeMember?Object(a.jsx)(h.b,{exact:!0,path:"/tenants",children:Object(a.jsx)(ce,{activeUser:n,users:p,addTenant:function(e,t,n,a,c,s){return R.apply(this,arguments)},updateTenantInfo:function(e,t,n,a,c,s,r,i){return P.apply(this,arguments)},deleteTenant:function(e){return Q.apply(this,arguments)},onLogOut:D})}):null,Object(a.jsx)(h.b,{exact:!0,path:"/messages",children:Object(a.jsx)(q,{activeUser:n,users:p,messages:w,addMessage:function(e,t,n,a){return T.apply(this,arguments)},updateMessage:function(e,t,n,a,c){return B.apply(this,arguments)},deleteMessage:function(e){return E.apply(this,arguments)},onLogOut:D})}),Object(a.jsx)(h.b,{exact:!0,path:"/votings",children:Object(a.jsx)(ee,{activeUser:n,votings:U,addVoting:H,updateVoting:F,updateSelectedVote:z,onLogOut:D,users:p})}),Object(a.jsx)(h.b,{exact:!0,path:"/login",children:Object(a.jsx)(C,{onLogIn:function(e){s(e),o(!1)}})}),Object(a.jsx)(h.b,{exact:!0,path:"/signup",children:Object(a.jsx)(N,{onSignUp:function(e){s(e),o(!1)}})})]})]})})},Oe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,928)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),s(e),r(e)}))};n(901);m.a.serverURL="https://parseapi.back4app.com",m.a.initialize("51WTBPdplru4mxpDvag4nrEUfNZgUyfxbIgCy7ax","OBjrtMi5wsuIwzeW09gsZoP9FFclzAoGUU9bhTaW"),i.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(he,{})}),document.getElementById("root")),Oe()}},[[902,1,2]]]);
//# sourceMappingURL=main.5c727e84.chunk.js.map